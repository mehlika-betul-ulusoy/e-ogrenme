<div class="instructor-dashboard">
  <header>
    <div class="header-content">
      <div>
        <h1>GeliÅŸmiÅŸ EÄŸitmen Paneli</h1>
        <p>HoÅŸ geldiniz, {{ currentUser?.fullName }}</p>
      </div>
      <button class="logout-btn" (click)="logout()" title="Ã‡Ä±kÄ±ÅŸ Yap">
        ğŸšª Ã‡Ä±kÄ±ÅŸ Yap
      </button>
    </div>
  </header>

  <section class="course-selector">
    <label for="courseSelect">Kurs SeÃ§in:</label>
    <select id="courseSelect" #courseSelect (change)="selectCourse(courseSelect.value)">
      <option value="" disabled selected>-- Kurs SeÃ§in --</option>
      <option *ngFor="let course of courses" [value]="course.id">{{ course.title }}</option>
    </select>
  </section>

  <section *ngIf="selectedCourse" class="course-detail">

    <h2>{{ selectedCourse!.title }}</h2>

    <!-- Ders Ekle -->
    <div class="add-lesson">
      <input type="text" [(ngModel)]="newLessonTitle" placeholder="Ders BaÅŸlÄ±ÄŸÄ±" />
      <input type="number" [(ngModel)]="newLessonDuration" placeholder="SÃ¼re (dk)" />
      <button (click)="addLesson()" [disabled]="!newLessonTitle || newLessonDuration <= 0">Ders Ekle</button>
    </div>

    <!-- Ders Listesi -->
    <div class="lesson-list">
      <h3>Dersler</h3>
      <ul>
        <li *ngFor="let lesson of selectedCourse!.lessons" (click)="selectLesson(lesson.id)" [class.selected]="lesson === selectedLesson">
          {{ lesson.title }} ({{ lesson.durationMinutes }} dk)
        </li>
      </ul>
    </div>

    <!-- Duyurular -->
    <section class="announcements">
      <h3>Duyurular</h3>
      <textarea [(ngModel)]="newAnnouncement" placeholder="Yeni duyuru mesajÄ±"></textarea>
      <button (click)="postAnnouncement()" [disabled]="!newAnnouncement.trim()">Duyuru GÃ¶nder</button>

      <ul>
        <li *ngFor="let ann of selectedCourse!.announcements">
          {{ ann.datePosted.toLocaleDateString() }} - {{ ann.message }}
        </li>
      </ul>
    </section>

  </section>
</div>
